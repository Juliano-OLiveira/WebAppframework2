<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <f:metadata>
            <f:viewAction action="#{clientesBean.todosOsClientes()}" />
        </f:metadata>

        <title>Crud com CDI</title>
        <h:outputStylesheet library="css" name="style.css" />
    </h:head>
    <h:body>
        <header>
            <div class="container">
                <p>Aula de Frameworks 2 -JSF e CDI</p>
            </div>
        </header>
        <article>
            <div class="container">
                <h:form id="frm">
                    <p:toolbar>
                        <f:facet name="left">
                            <p:inputText id="pesquisa" placeholder="Informe o Nome" size="35"/>
                            <p:spacer width="5px"></p:spacer>
                            <p:commandButton  value="Pesquisar" icon="fa fa-search"/>
                            <span class="ui-separator">
                                <span class="ui-icon ui-icon-grip-dotted-vertical" />
                            </span>

                            <p:commandButton  value="Novo" icon="fa fa-plus"
                                              oncomplete="PF('edicaoClienteDialog').show()"/>

                            <span class="ui-separator">
                                <span class="ui-icon ui-icon-grip-dotted-vertical" />
                            </span>
                            <p:commandButton title="Editar"  icon="fa fa-edit"/>
                            <span class="ui-separator">
                                <span class="ui-icon ui-icon-grip-dotted-vertical" />
                            </span>
                            <p:commandButton title="Excluir"  icon="fa fa-trash"/>
                            <span class="ui-separator">
                                <span class="ui-icon ui-icon-grip-dotted-vertical" />
                            </span>
                        </f:facet>
                    </p:toolbar>
                    <p:spacer height="20px" />
                    <p:dataTable value="#{clientesBean.listaDeClientes}" var="cliente" 
                                 emptyMessage="Nenhum Cliente Localizado"
                                 paginator="true" rows="10" paginatorPosition="bottom"> 

                        <p:column headerText="Nome">
                            <h:outputText value="#{cliente.nome}" />


                        </p:column>
                        <p:column headerText="RG">
                            <h:outputText value="#{cliente.RG}" />


                        </p:column>

                        <p:column headerText="CPF">
                            <h:outputText value="#{cliente.CPF}" />


                        </p:column>
                        <p:column headerText="Telefone">
                            <h:outputText value="#{cliente.telefone}" />


                        </p:column>
                        <p:column headerText="Email">
                            <h:outputText value="#{cliente.email}" />


                        </p:column>
                        <p:column headerText="Endereço">
                            <h:outputText value="#{cliente.endereco}" />


                        </p:column>




                    </p:dataTable>
                    <p:dialog header="Novo Cliente" widgetVar="edicaoClienteDialog"
                              id="cliente-dialog"
                              resizable="false" modal="true"
                              closeOnEscape="true">

                        <h:panelGrid columns="2" >
                            <p:outputLabel value="Nome" for="nome" />
                            <p:inputText  id="nome"/>

                            <p:outputLabel value="RG" for="rg" />
                            <p:inputText  id="rg"/>
                            <p:outputLabel value="CPF" for="cpf" />
                            <p:inputText  id="cpf"/>

                            <p:outputLabel value="Email" for="email" />
                            <p:inputText  id="email"/>
                            <p:outputLabel value="Endereço" for="end" />
                            <p:inputText  id="end"/>



                            <p:outputLabel/>
                            <p:commandButton value="Salvar" oncomplete="PF('edicaoClienteDialog').hide()" />

                        </h:panelGrid>


                    </p:dialog>
                </h:form>
            </div>
        </article>        
    </h:body>
</html>

